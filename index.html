<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VS Code Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>

        :root {
            --vscode-bg: #1e1e1e;
            --vscode-sidebar-bg: #252526;
            --vscode-tabs-bg: #2d2d2d;
            --vscode-tab-active-bg: #1e1e1e;
            --vscode-text-color: #d4d4d4;
            --vscode-border-color: #3e3e3e;
            --vscode-accent-color: #007acc;
            --vscode-selection-color: rgba(0, 115, 204, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: var(--vscode-text-color);
        }

        body {
            background-color: var(--vscode-bg);
            overflow: hidden;
            font-size: 14px;
            direction: ltr;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .app-top-bar {
            background-color: var(--vscode-tabs-bg);
            padding: 5px 10px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--vscode-border-color);
            position: relative;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        .app-top-bar::-webkit-scrollbar {
            display: none;
        }
        .app-top-bar span {
            margin-right: 15px;
            cursor: pointer;
            padding: 2px 5px;
            transition: background-color 0.2s;
            font-size: 13px;
        }
        .app-top-bar span:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .content-area {
            display: flex;
            flex-grow: 1;
            position: relative;
        }

        .sidebar {
            width: 50px;
            background-color: var(--vscode-sidebar-bg);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-right: 1px solid var(--vscode-border-color);
            z-index: 20;
            flex-shrink: 0;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
        }
        .sidebar .top-icons,
        .sidebar .bottom-icons {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .sidebar i {
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
            color: #858585;
            transition: color 0.2s, background-color 0.2s;
        }
        .sidebar i:hover {
            color: var(--vscode-text-color);
        }
        .sidebar i.active-icon {
            color: var(--vscode-text-color);
            border-left: 2px solid var(--vscode-accent-color);
            background-color: rgba(0, 122, 204, 0.1);
        }

        .explorer-panel {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50px;
            width: 0;
            background-color: var(--vscode-sidebar-bg);
            transition: width 0.3s ease-in-out;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            z-index: 10;
            border-right: 1px solid var(--vscode-border-color);
        }
        .explorer-panel.expanded {
            width: 200px;
        }
        .explorer-header {
            font-weight: bold;
            color: #858585;
            padding: 10px;
        }
        .explorer-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 0 10px;
        }
        .file-item {
            display: block;
            padding: 5px 10px;
            cursor: pointer;
            transition: background-color 0.2s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .file-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .file-item.active-file {
            background-color: rgba(0, 122, 204, 0.2);
        }

        .editor-panel {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            margin-left: 50px;
            transition: margin-left 0.3s ease-in-out;
        }
        .explorer-panel.expanded + .editor-panel {
            margin-left: 250px;
        }

        .top-bar {
            background-color: var(--vscode-tabs-bg);
            border-bottom: 1px solid var(--vscode-border-color);
            display: flex;
            justify-content: flex-start;
            min-height: 40px;
        }
        .tabs-container {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        .tabs-container::-webkit-scrollbar {
            display: none;
        }
        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-right: 1px solid var(--vscode-border-color);
            display: none;
            align-items: center;
            gap: 10px;
            background-color: var(--vscode-tabs-bg);
            transition: background-color 0.2s;
        }
        .tab:hover {
            background-color: #3a3a3a;
        }
        .tab:last-child {
            border-right: none;
        }
        .tab.visible {
            display: flex;
        }
        .tab.active {
            background-color: var(--vscode-bg);
            position: relative;
        }
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--vscode-accent-color);
        }
        .tab i {
            font-size: 12px;
            color: #999;
            padding: 2px;
            border-radius: 2px;
            transition: background-color 0.2s;
        }
        .tab i:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .image-content-area {
            flex-grow: 1;
            background-color: var(--vscode-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }
        .tab-content {
            display: none;
            width: 100%;
            height: 100%;
            justify-content: center;
            align-items: center;
            animation: fadein 0.3s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
        }
        .tab-content.active-content {
            display: flex;
        }
        .tab-content img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            display: block;
        }

        @keyframes fadein {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .status-bar {
            height: 22px;
            background-color: #007acc;
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
            font-size: 12px;
            position: relative;
            flex-shrink: 0;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        .status-bar::-webkit-scrollbar {
            display: none;
        }
        .status-bar span {
            color: #fff;
            margin-right: 15px;
            cursor: pointer;
            padding: 2px 5px;
            border-radius: 3px;
            transition: background-color 0.2s;
        }
        .status-bar span:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .status-bar .right-items span {
            margin-left: 15px;
            margin-right: 0;
        }
        .status-bar i {
            color: #fff;
            margin-right: 5px;
        }

        .terminal-container {
            position: absolute;
            bottom: 22px;
            left: 50px;
            right: 0;
            height: 0;
            background-color: #1e1e1e;
            border-top: 1px solid var(--vscode-border-color);
            transition: height 0.3s ease-in-out;
            overflow: hidden;
            z-index: 10;
        }
        .terminal-container.open {
            height: 250px;
        }
        .terminal-header {
            background-color: #252526;
            color: #fff;
            padding: 5px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--vscode-border-color);
        }
        .terminal-header span {
            font-weight: bold;
        }
        .terminal-header i {
            cursor: pointer;
            color: #999;
            padding: 2px 5px;
            border-radius: 3px;
        }
        .terminal-header i:hover {
            color: #fff;
            background-color: rgba(255, 255, 255, 0.1);
        }
        .terminal-content {
            padding: 10px;
            height: calc(100% - 30px);
            overflow-y: auto;
            font-family: 'Courier New', Courier, monospace;
        }
        #terminal-output {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 13px;
            color: #eee;
        }
        .fake-link {
            color: #ffffff;
            text-decoration: underline;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .app-top-bar {
                padding: 5px;
            }
            .app-top-bar span {
                margin-right: 10px;
                font-size: 12px;
            }
            .content-area {
                flex-direction: row;
                margin-left: 0;
            }
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                bottom: 0;
                z-index: 30;
            }
            .explorer-panel {
                left: 50px;
                width: 0;
                z-index: 25;
            }
            .explorer-panel.expanded {
                width: 250px;
            }
            .editor-panel {
                margin-left: 50px;
            }
            .explorer-panel.expanded + .editor-panel {
                margin-left: 50px;
            }
            .terminal-container {
                left: 50px;
            }
            .status-bar {
                font-size: 10px;
                padding: 0 5px;
            }
            .status-bar span {
                margin-right: 8px;
            }
        }
        @media (max-width: 480px) {
            body {
                font-size: 12px;
            }
            .app-top-bar span {
                font-size: 10px;
                margin-right: 8px;
            }
            .sidebar i {
                font-size: 16px;
                padding: 4px;
            }
            .explorer-panel.expanded {
                width: 220px;
            }
            .file-item {
                font-size: 12px;
                padding: 4px 8px;
            }
            .status-bar {
                height: 20px;
                padding: 0 4px;
            }
            .status-bar span {
                font-size: 9px;
                margin-right: 5px;
            }
        }
    </style>
</head>
<body>

    <div class="main-container">
        <div class="app-top-bar">
            <span>File</span>
            <span>Edit</span>
            <span>Selection</span>
            <span>View</span>
            <span>Go</span>
            <span>Run</span>
            <span id="top-terminal-toggle">Terminal</span>
            <span>Help</span>
        </div>

        <div class="content-area">
            <div class="sidebar">
                <div class="top-icons">
                    <i class="fas fa-file-alt active-icon" title="Explorer"></i>
                    <i class="fas fa-search" title="Search"></i>
                    <i class="fas fa-code-branch" title="Source Control"></i>
                    <i class="fas fa-bug" title="Run and Debug"></i>
                    <i class="fas fa-cubes" title="Extensions"></i>
                </div>
                <div class="bottom-icons">
                    <i class="fas fa-user-circle" title="Accounts"></i>
                    <i class="fas fa-cog" title="Settings"></i>
                </div>
            </div>

            <div class="explorer-panel" id="explorer-panel">
                <div class="explorer-header">EXPLORER</div>
                <div class="explorer-content" id="explorer-content">
                    <div class="file-item" data-file="html">index.html</div>
                    <div class="file-item" data-file="css">style.css</div>
                    <div class="file-item" data-file="js">script.js</div>
                    <div class="file-item" data-file="py">main.py</div>
                    <div class="file-item" data-file="java">Main.java</div>
                    <div class="file-item" data-file="json">data.json</div>
                    <div class="file-item" data-file="md">README.md</div>
                    <div class="file-item" data-file="php">index.php</div>
                    <div class="file-item" data-file="go">main.go</div>
                    <div class="file-item" data-file="sh">script.sh</div>
                </div>
            </div>

            <div class="editor-panel">
                <div class="top-bar">
                    <div class="tabs-container" id="tabs-container">
                    </div>
                </div>

                <div class="image-content-area">
                    <div class="tab-content" id="html-content">
                        <img src="img/Afia.png" alt="HTML Code">
                    </div>
                    <div class="tab-content" id="css-content">
                        <img src="img/Fatwa_Project.png" alt="CSS Code">
                    </div>
                    <div class="tab-content" id="js-content">
                        <img src="img/Glamory_shop.png" alt="JS Code">
                    </div>
                    <div class="tab-content" id="py-content">
                        <img src="img/Redyx.png" alt="Python Code">
                    </div>
                    <div class="tab-content" id="java-content">
                        <img src="img/Landing-page3.png" alt="Java Code">
                    </div>
                    <div class="tab-content" id="json-content">
                        <img src="img/Landing-page1.png" alt="JSON Code">
                    </div>
                    <div class="tab-content" id="md-content">
                        <img src="img/CURDS.png" alt="Markdown Code">
                    </div>
                    <div class="tab-content" id="php-content">
                        <img src="img/Digital Innovation Platform.png" alt="PHP Code">
                    </div>
                    <div class="tab-content" id="go-content">
                        <img src="img/SignUp-page.png" alt="Go Code">
                    </div>
                    <div class="tab-content" id="sh-content">
                        <img src="img/calc-using-JS.png" alt="Shell Code">
                    </div>
                </div>
            </div>
        </div>

        <div class="status-bar">
            <div class="left-items">
                <span><i class="fas fa-code-branch"></i> main</span>
                <span><i class="fas fa-sync-alt"></i></span>
                <span><i class="fas fa-exclamation-triangle"></i> 0</span>
                <span><i class="fas fa-times-circle"></i> 0</span>
            </div>
            <div class="right-items">
                <span id="language-status">HTML</span>
                <span>Spaces: 2</span>
                <span>UTF-8</span>
                <span><i class="fas fa-terminal" id="terminal-toggle-btn"></i></span>
            </div>
        </div>

        <div class="terminal-container" id="terminal-container">
            <div class="terminal-header">
                <span>Terminal</span>
                <i class="fas fa-times" id="close-terminal-btn"></i>
            </div>
            <div class="terminal-content">
                <pre id="terminal-output"></pre>
            </div>
        </div>
    </div>

    <script>
        const tabsContainer = document.getElementById('tabs-container');
        const tabContents = document.querySelectorAll('.tab-content');
        const languageStatus = document.getElementById('language-status');
        const terminalToggleBtn = document.getElementById('terminal-toggle-btn');
        const closeTerminalBtn = document.getElementById('close-terminal-btn');
        const terminalContainer = document.getElementById('terminal-container');
        const terminalOutput = document.getElementById('terminal-output');
        const explorerIcon = document.querySelector('.sidebar .fa-file-alt');
        const explorerPanel = document.getElementById('explorer-panel');
        const fileItems = document.querySelectorAll('.file-item');
        const topTerminalToggleBtn = document.getElementById('top-terminal-toggle');

        const files = Array.from(fileItems).map(item => ({
            id: item.dataset.file,
            name: item.textContent,
            isOpen: false
        }));

        terminalOutput.addEventListener('click', (e) => {
            if (e.target.classList.contains('fake-link')) {
                const url = e.target.textContent;
                window.open(url, '_blank');
            }
        });

        function renderTabs() {
            tabsContainer.innerHTML = '';
            const openFiles = files.filter(f => f.isOpen);
            let activeFileId = null;

            const currentActiveTab = document.querySelector('.tab.active');
            if (currentActiveTab) {
                activeFileId = currentActiveTab.dataset.content;
            } else if (openFiles.length > 0) {
                activeFileId = openFiles[0].id;
            }

            openFiles.forEach(file => {
                const tabDiv = document.createElement('div');
                tabDiv.className = `tab visible ${file.id}-tab`;
                tabDiv.setAttribute('data-content', file.id);
                tabDiv.innerHTML = `${file.name} <i class="fas fa-times"></i>`;

                const closeIcon = tabDiv.querySelector('i');
                closeIcon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeTab(tabDiv);
                });

                tabDiv.addEventListener('click', () => {
                    activateTab(file.id);
                });

                tabsContainer.appendChild(tabDiv);
            });
            
            if (activeFileId) {
                activateTab(activeFileId);
            } else {
                tabContents.forEach(c => c.classList.remove('active-content'));
                languageStatus.textContent = 'Text';
            }
        }

        function activateTab(fileId) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            const newActiveTab = document.querySelector(`.tab[data-content="${fileId}"]`);
            if (newActiveTab) {
                newActiveTab.classList.add('active');
            }

            tabContents.forEach(c => c.classList.remove('active-content'));
            const newActiveContent = document.getElementById(`${fileId}-content`);
            if (newActiveContent) {
                newActiveContent.classList.add('active-content');
            }

            languageStatus.textContent = fileId.toUpperCase();

            document.querySelectorAll('.file-item').forEach(item => item.classList.remove('active-file'));
            const newActiveFileItem = document.querySelector(`.file-item[data-file="${fileId}"]`);
            if (newActiveFileItem) {
                newActiveFileItem.classList.add('active-file');
            }
        }

        function closeTab(tabToClose) {
            const fileId = tabToClose.dataset.content;
            const fileToClose = files.find(file => file.id === fileId);

            if (fileToClose) {
                fileToClose.isOpen = false;
                const wasActive = tabToClose.classList.contains('active');
                const tabs = Array.from(document.querySelectorAll('.tab.visible'));
                const closedTabIndex = tabs.indexOf(tabToClose);
                tabToClose.remove();

                if (wasActive) {
                    let newActiveTab = null;
                    if (tabs[closedTabIndex + 1]) {
                        newActiveTab = tabs[closedTabIndex + 1];
                    } else if (tabs[closedTabIndex - 1]) {
                        newActiveTab = tabs[closedTabIndex - 1];
                    }

                    if (newActiveTab) {
                        activateTab(newActiveTab.dataset.content);
                    } else {
                        tabContents.forEach(c => c.classList.remove('active-content'));
                        languageStatus.textContent = 'Text';
                    }
                }

                document.querySelector(`.file-item[data-file="${fileId}"]`)?.classList.remove('active-file');
            }
        }

        fileItems.forEach(item => {
            item.addEventListener('click', () => {
                const fileId = item.dataset.file;
                const fileToOpen = files.find(file => file.id === fileId);
                if (fileToOpen && !fileToOpen.isOpen) {
                    fileToOpen.isOpen = true;
                    renderTabs();
                }
                activateTab(fileId);
            });
        });

        explorerIcon.addEventListener('click', () => {
            explorerIcon.classList.toggle('active-icon');
            explorerPanel.classList.toggle('expanded');
        });

        terminalToggleBtn.addEventListener('click', () => {
            terminalContainer.classList.toggle('open');
            if (terminalContainer.classList.contains('open')) {
                simulateTerminalOutput();
            } else {
                terminalOutput.textContent = '';
            }
        });

        topTerminalToggleBtn.addEventListener('click', () => {
            terminalContainer.classList.toggle('open');
            if (terminalContainer.classList.contains('open')) {
                simulatePortfolioOutput();
            } else {
                terminalOutput.textContent = '';
            }
        });

        closeTerminalBtn.addEventListener('click', () => {
            terminalContainer.classList.remove('open');
            terminalOutput.textContent = '';
        });

        function simulateTerminalOutput() {
            const fakeOutput = `
> C:\\Users\\user\\projects\\my-project> npm start

> my-project@1.0.0 start
> node index.js

Server is running at <span class="fake-link">http://localhost:3000</span>
`;
            let i = 0;
            terminalOutput.innerHTML = '';
            const interval = setInterval(() => {
                if (i < fakeOutput.length) {
                    terminalOutput.innerHTML += fakeOutput.charAt(i);
                    terminalOutput.scrollTop = terminalOutput.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                }
            }, 10);
        }
        
        function simulatePortfolioOutput() {
            const portfolioOutput = `
> C:\\Users\\User> Welcome!
> C:\\Users\\User> This is my portfolio styled as VS Code.
> C:\\Users\\User> You can explore my projects in the file explorer on the left.
> C:\\Users\\User> Thank you for visiting!
`;
            let i = 0;
            terminalOutput.innerHTML = '';
            const interval = setInterval(() => {
                if (i < portfolioOutput.length) {
                    terminalOutput.innerHTML += portfolioOutput.charAt(i);
                    terminalOutput.scrollTop = terminalOutput.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                }
            }, 10);
        }

        // الكود الجديد اللي هيشغل كل حاجة أول ما الصفحة تفتح
        explorerIcon.classList.add('active-icon');
        explorerPanel.classList.add('expanded');
        const initialFile = files[0];
        initialFile.isOpen = true;
        renderTabs();
        activateTab(initialFile.id);
        terminalContainer.classList.add('open');
        simulatePortfolioOutput();
    </script>
</body>
</html>
